<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-database-mysql-backup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/database-mysql-backup/" class="article-date">
  <time datetime="2017-11-26T11:43:15.000Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/26/database-mysql-backup/">mysql-backup</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. 进行备份</span><br><span class="line">	mysqldump -u root -<span class="selector-tag">p</span> database_name &gt; backup.sql</span><br><span class="line"><span class="number">2</span>. 导入备份</span><br><span class="line">　　　　mysql -u root -<span class="selector-tag">p</span> database_name &lt; backup.sql</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/26/database-mysql-backup/" data-id="cjdy2pjtn001th5nm15i9a0ja" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/database-mysql-backup/">database_mysql_backup</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-database-mysql-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/database-mysql-install/" class="article-date">
  <time datetime="2017-11-26T06:53:04.000Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/26/database-mysql-install/">mysql_install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 下载压缩包</span><br><span class="line">  cd <span class="regexp">/usr/</span>local/</span><br><span class="line">  wget <span class="string">https:</span><span class="comment">//dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.38-linux-glibc2.12-x86_64.tar.gz</span></span><br><span class="line">  tar -xvf mysql<span class="number">-5.6</span><span class="number">.38</span>-linux-glibc2<span class="number">.12</span>-x86_64.tar.gz</span><br><span class="line">  rm -rf mysql<span class="number">-5.6</span><span class="number">.38</span>-linux-glibc2<span class="number">.12</span>-x86_64.tar.gz</span><br><span class="line"><span class="number">2.</span> 检查mysql组的存在</span><br><span class="line">  groups mysql</span><br><span class="line">  如果沒有 mysql 则添加组　mysql组</span><br><span class="line">　groupadd mysql</span><br><span class="line">  useradd -r -g mysql mysql</span><br><span class="line"><span class="number">3.</span> 重新命名</span><br><span class="line">　mv mysql<span class="number">-5.6</span><span class="number">.38</span>-linux-glibc2<span class="number">.12</span>-x86_64 mysql</span><br><span class="line"><span class="number">4.</span> 改变mysql的拥有者和组属性</span><br><span class="line">  cd mysql</span><br><span class="line">  chown <span class="string">root:</span>root ./</span><br><span class="line">  chown <span class="string">mysql:</span>mysql data</span><br><span class="line"><span class="number">5.</span> 启动server</span><br><span class="line">   .<span class="regexp">/scripts/</span>mysql_install_db</span><br><span class="line">   .<span class="regexp">/bin/</span>mysqladmin -u root -h xujianhua-ThinkPad-T450 -p password</span><br><span class="line">  .suport_files<span class="regexp">/mysql.server start /</span>/启动mysql    </span><br><span class="line">   如果失败查看是否已经有运行的进程</span><br><span class="line">	ps -aux | grep mysql</span><br><span class="line"></span><br><span class="line">  .<span class="regexp">/bin/</span>mysqladmin -u root -p <span class="comment">//初始化密码请记住密码</span></span><br><span class="line"><span class="number">6.</span> 添加到service </span><br><span class="line"> cp support_files<span class="regexp">/mysql.server /</span>etc/init.d</span><br><span class="line"> svf-rc-conf <span class="comment">//查看服务的运行情况</span></span><br><span class="line"> serive mysqld start</span><br><span class="line"><span class="number">7.</span> 登陆</span><br><span class="line">　.<span class="regexp">/bin/</span>mysql -u root -p</span><br><span class="line"><span class="number">8.</span> 配置环境变量</span><br><span class="line">　vi <span class="regexp">/etc/</span>profile</span><br><span class="line">  添加一下内容</span><br><span class="line">　export PATH=<span class="string">$PATH:</span><span class="regexp">/usr/</span>localmysql/bin</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/26/database-mysql-install/" data-id="cjdy2pjto001vh5nm2egoitfw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/database-mysql-install/">database_mysql_install</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-mysql-install" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/mysql-install/" class="article-date">
  <time datetime="2017-11-26T06:53:04.000Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/26/mysql-install/">mysql_install</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 下载压缩包</span><br><span class="line">  cd <span class="regexp">/usr/</span>local/</span><br><span class="line">  wget <span class="string">https:</span><span class="comment">//dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.38-linux-glibc2.12-x86_64.tar.gz</span></span><br><span class="line">  tar -xvf mysql<span class="number">-5.6</span><span class="number">.38</span>-linux-glibc2<span class="number">.12</span>-x86_64.tar.gz</span><br><span class="line">  rm -rf mysql<span class="number">-5.6</span><span class="number">.38</span>-linux-glibc2<span class="number">.12</span>-x86_64.tar.gz</span><br><span class="line"><span class="number">2.</span> 检查mysql组的存在</span><br><span class="line">  groups mysql</span><br><span class="line">  如果沒有 mysql 则添加组　mysql组</span><br><span class="line">　groupadd mysql</span><br><span class="line">  useradd -r -g mysql mysql</span><br><span class="line"><span class="number">3.</span> 重新命名</span><br><span class="line">　mv mysql<span class="number">-5.6</span><span class="number">.38</span>-linux-glibc2<span class="number">.12</span>-x86_64 mysql</span><br><span class="line"><span class="number">4.</span> 改变mysql的拥有者和组属性</span><br><span class="line">  cd mysql</span><br><span class="line">  chown <span class="string">root:</span>root ./</span><br><span class="line">  chown <span class="string">mysql:</span>mysql data</span><br><span class="line"><span class="number">5.</span> 启动server</span><br><span class="line">   .<span class="regexp">/scripts/</span>mysql_install_db</span><br><span class="line">   .<span class="regexp">/bin/</span>mysqladmin -u root -h xujianhua-ThinkPad-T450 -p password</span><br><span class="line">  .suport_files<span class="regexp">/mysql.server start /</span>/启动mysql    </span><br><span class="line">   如果失败查看是否已经有运行的进程</span><br><span class="line">	ps -aux | grep mysql</span><br><span class="line"></span><br><span class="line">  .<span class="regexp">/bin/</span>mysqladmin -u root -p <span class="comment">//初始化密码请记住密码</span></span><br><span class="line"><span class="number">6.</span> 添加到service </span><br><span class="line"> cp support_files<span class="regexp">/mysql.server /</span>etc/init.d</span><br><span class="line"> svf-rc-conf <span class="comment">//查看服务的运行情况</span></span><br><span class="line"> serive mysqld start</span><br><span class="line"><span class="number">7.</span> 登陆</span><br><span class="line">　.<span class="regexp">/bin/</span>mysql -u root -p</span><br><span class="line"><span class="number">8.</span> 配置环境变量</span><br><span class="line">　vi <span class="regexp">/etc/</span>profile</span><br><span class="line">  添加一下内容</span><br><span class="line">　export PATH=<span class="string">$PATH:</span><span class="regexp">/usr/</span>localmysql/bin</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/26/mysql-install/" data-id="cjdy2pjup003ah5nm8llc9igp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/database-mysql-install/">database_mysql_install</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ssh-study" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/22/ssh-study/" class="article-date">
  <time datetime="2017-11-22T14:37:52.000Z" itemprop="datePublished">2017-11-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/22/ssh-study/">ssh-study</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ssh 远程登陆，基于c/s 架构</span><br><span class="line">　</span><br><span class="line">ssh 常用命令</span><br><span class="line">	ssh user@ip -p</span><br><span class="line"></span><br><span class="line">$ ssh user@host <span class="string">'mkdir -p .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys'</span> &lt; ~<span class="regexp">/.ssh/id</span>_rsa.pub</span><br><span class="line">‘mkdir -p .ssh &amp;&amp; cat <span class="meta">&gt;&gt; </span>.sh/authorized_keys’是登陆之后执行的</span><br><span class="line">scp</span><br><span class="line"> 复制本地的文件到远程服务器</span><br><span class="line">	scp file user@remote_ip<span class="symbol">:/path</span></span><br><span class="line"> 复制本地文件夹到远程服务器</span><br><span class="line">	scp -r dir user@remote_ip<span class="symbol">:/path</span></span><br><span class="line"></span><br><span class="line"> 复制远程文件到本地</span><br><span class="line">	scp user@remote_ip<span class="symbol">:/path/file</span> /local_path</span><br><span class="line"> 复制远程文件夹到本地</span><br><span class="line">	scp -r user@remote_ip<span class="symbol">:/path/dir</span> /local_path</span><br><span class="line"></span><br><span class="line"> scp 选项</span><br><span class="line">	－P 端口</span><br><span class="line">	</span><br><span class="line">ssh-copy-id user@remote_address </span><br><span class="line">	复制本地的.ssh/id_rsa.pub 到远端的.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/22/ssh-study/" data-id="cjdy2pjva0040h5nmyqkinbpq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh-cmd/">ssh_cmd</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-npm-study" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/21/npm-study/" class="article-date">
  <time datetime="2017-11-21T10:25:12.000Z" itemprop="datePublished">2017-11-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/21/npm-study/">npm-study</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="npm-简介"><a href="#npm-简介" class="headerlink" title="npm 简介"></a>npm 简介</h1><p>npm 可以使js开发者分享和重利用代码更为容易，并且更新要分享的代码也更为容易</p>
<h1 id="package-json-的使用"><a href="#package-json-的使用" class="headerlink" title="package.json　的使用"></a>package.json　的使用</h1><p>npm init 创建一个package.json 文件<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"name"</span> : <span class="string">"project_name"</span>,</span><br><span class="line">	<span class="attr">"version"</span> : <span class="string">"1.0.0"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="npm-常用命令"><a href="#npm-常用命令" class="headerlink" title="npm 常用命令"></a>npm 常用命令</h1><p>npm init –yes 创建一个默认的package.json<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"react_study"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"This project was bootstrapped with [Create React App](https://github.com/facebookincubator/create-react-app)."</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="string">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"accepts"</span>: <span class="string">"^1.3.4"</span>,</span><br><span class="line">    <span class="string">"acorn"</span>: <span class="string">"^4.0.13"</span>,</span><br><span class="line">    <span class="string">"acorn-dynamic-import"</span>: <span class="string">"^2.0.2"</span>,</span><br><span class="line">    <span class="string">"address"</span>: <span class="string">"^1.0.3"</span>,</span><br><span class="line">    <span class="string">"ajv"</span>: <span class="string">"^5.3.0"</span>,</span><br><span class="line">    ....</span><br><span class="line"> </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"devDependencies"</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"keywords"</span>: [],</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>npm set init.author.email “xujianhuaap@gmail.com”<br>npm set init.author.name “skullmind”<br>npm set init.license “MIT”<br>npm install <package_name> –save //添加新的依赖包<br>npm publish <package_name> –tag beta –access public<br>npm install <package_name> –save-dev //添加开发依赖包<br>npm update<br>npm outdated //查看过时的包<br>npm uninstall <package_name> –save//移除本地对应的包并重package.json中移除</package_name></package_name></package_name></package_name></p>
<h1 id="npm-版本管理"><a href="#npm-版本管理" class="headerlink" title="npm　版本管理"></a>npm　版本管理</h1><p>npm 遵从语义版本原则（SemanticVersioning)</p>
<ol>
<li>bug修复和次要更改，增加x.y.z 中的z</li>
<li>新特性打破现存特性的　增加x.y.z 中的ｙ</li>
<li>重大打破向后兼容的　增加x.y.z中的</li>
</ol>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">^<span class="number">1.2</span><span class="meta">.3</span> := &gt;=<span class="number">1.2</span><span class="meta">.3</span> &lt;<span class="number">2.0</span><span class="meta">.0</span></span><br><span class="line">^<span class="number">0.2</span><span class="meta">.3</span> := &gt;=<span class="number">0.2</span><span class="meta">.3</span> &lt;<span class="number">0.3</span><span class="meta">.0</span></span><br><span class="line">^<span class="number">0.0</span><span class="meta">.4</span> := &gt;=<span class="number">0.0</span><span class="meta">.4</span> &lt;<span class="number">0.0</span><span class="meta">.5</span></span><br><span class="line">^允许化不改变，最左边非零数字</span><br><span class="line"></span><br><span class="line">～允许补丁级别变化</span><br><span class="line">～<span class="number">0.2</span><span class="meta">.3</span> := &gt;= <span class="number">0.2</span><span class="meta">.3</span> &lt;<span class="number">0.3</span><span class="meta">.0</span></span><br><span class="line">~ <span class="number">1.2</span><span class="meta">.3</span> := &gt;= <span class="number">1.2</span><span class="meta">.3</span> &lt;<span class="number">1.2</span><span class="meta">.4</span></span><br></pre></td></tr></table></figure>
<p>npm install <package_name>@<version range=""> –save</version></package_name></p>
<h1 id="npm-scope"><a href="#npm-scope" class="headerlink" title="npm scope"></a>npm scope</h1><p>@scope/project_name<br>npm init –scope=scope // package.json name字段会添加scope<br>npm config set scope username //不建议用</p>
<h1 id="npm-运行机制"><a href="#npm-运行机制" class="headerlink" title="npm 运行机制"></a>npm 运行机制</h1><h2 id="包和模块"><a href="#包和模块" class="headerlink" title="包和模块"></a>包和模块</h2><p>包是由package.json 描述的文件和目录，具体包括一下种类<br>a) 一个文件夹包含package.json<br>b) 一个包含a)的压缩包<br>c) 一个url 指向b)<br>d) 一个<name> @ <version> 以c)注册到仓库<br>e) 一个<name>@<tag> 指向d)<br>f) 一个<name> 有一个最近的tag 指向e)<br>g) 一个可以产生a)的git url </name></tag></name></version></name></p>
<p>模块是在Node.js代码中可以通过require()加载的目录或js文件<br>a) 一个含有main字段的package.json 文件的文件夹<br>b) 一个文件夹含有index.js<br>c) 一个js文件</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/21/npm-study/" data-id="cjdy2pjv2003rh5nmq9b4gfl0" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/npm-cmd/">npm_cmd</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-loader-balance" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/20/nginx-loader-balance/" class="article-date">
  <time datetime="2017-11-20T14:06:11.000Z" itemprop="datePublished">2017-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/20/nginx-loader-balance/">nginx-loader_balance</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 负载均衡设置</span><br><span class="line">	http &#123;</span><br><span class="line">		upstream backend &#123;</span><br><span class="line">			ip_hash;<span class="meta"># least_time header  </span></span><br><span class="line">			<span class="keyword">server</span> backend.example weight=<span class="number">5</span>;</span><br><span class="line">			<span class="keyword">server</span> skullmind.cn ;</span><br><span class="line">			<span class="meta">#unix socket</span></span><br><span class="line">			<span class="keyword">server</span> unix:/var/run/nginx.sock;</span><br><span class="line">			<span class="keyword">server</span> localhost backup;</span><br><span class="line">		&#125;</span><br><span class="line">		location / &#123;</span><br><span class="line">			proxy_pass http:<span class="comment">//backend;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	upstream 指令用于定义一组<span class="keyword">server</span>;</span><br><span class="line">	<span class="keyword">server</span> 指令（不同于上下文<span class="keyword">server</span>) </span><br><span class="line">	    address ip unix_socket domain</span><br><span class="line">            weight=<span class="number">5</span> <span class="meta"># 权重</span></span><br><span class="line">            max_conn=<span class="number">100</span></span><br><span class="line">	    max_fail =<span class="number">100</span> </span><br><span class="line">	    fail_timeout= <span class="number">10</span></span><br><span class="line">	    backup <span class="meta"># 标记为备份</span></span><br><span class="line">            down; <span class="meta"># 不可用</span></span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span> 负载均衡的算法</span><br><span class="line">　　<span class="number">1</span>&gt; 循环</span><br><span class="line">　　<span class="number">2</span>&gt; 最少连接least_conn</span><br><span class="line">　　<span class="number">3</span>&gt; 权重</span><br><span class="line">　　<span class="number">4</span>&gt; ip_hash 保证同一个请求的要访问的服务器会一样，</span><br><span class="line">       除非服务器不可用</span><br><span class="line">    <span class="number">5</span>&gt; hash (目前不建议使用)</span><br><span class="line">    <span class="number">6</span>&gt;延迟最少的 least_time header least_time last_byte</span><br><span class="line"><span class="number">3.</span> <span class="keyword">server</span> 监控</span><br><span class="line">	upstream 指令只能在http 上下文中</span><br><span class="line">	upstream backend &#123;</span><br><span class="line">		<span class="keyword">server</span> www.data.com slow_start=<span class="number">30</span>s;</span><br><span class="line">		<span class="keyword">server</span> www.data.com max_fails=<span class="number">10</span> fail_timeout=<span class="number">30</span>s;</span><br><span class="line">		<span class="keyword">server</span> www.data.com max_fails=<span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">        max_fails 表示当连接失败达到一定次数，就认为该<span class="keyword">server</span> 不可用</span><br><span class="line">	fails_timeout 表示连接的最大时长，超过既认为连接失败</span><br><span class="line"></span><br><span class="line">	http &#123;	</span><br><span class="line">		upstream backend &#123;</span><br><span class="line">			zone backend <span class="number">64</span>k;</span><br><span class="line">		</span><br><span class="line">			sever www.data.com;</span><br><span class="line">			<span class="keyword">server</span> www.data.com weight =<span class="number">5</span>;</span><br><span class="line">			<span class="keyword">server</span> www.data2.com backup;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		location / &#123;</span><br><span class="line">			proxy_pass http:<span class="comment">//backend;</span></span><br><span class="line">			health_check;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">	周期性的发送特定的请求给每个<span class="keyword">server</span> 检查特定的响应可以</span><br><span class="line">	判断<span class="keyword">server</span> 的可用情况</span><br><span class="line">	zone指令　分配一定的工作进程共享区，存储着<span class="keyword">server</span> 组的</span><br><span class="line">		配置，能够确保，工作进程用同一套计数集合。</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/20/nginx-loader-balance/" data-id="cjdy2pjuv003jh5nma8ryw3ms" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-loader-balance/">nginx_loader_balance</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-https" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/20/nginx-https/" class="article-date">
  <time datetime="2017-11-20T10:02:32.000Z" itemprop="datePublished">2017-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/20/nginx-https/">nginx-https</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1. 配置一个https server</span><br><span class="line">      http&#123;</span><br><span class="line">	    ssl_session_cache  shared:SSL:10m;#</span><br><span class="line">	    ssl_session_time_out 10m;</span><br><span class="line">	   <span class="built_in"> server </span>&#123;</span><br><span class="line">		listen 443 ssl;</span><br><span class="line">		server_name www.example.com;</span><br><span class="line">		ssl_certificate /usr/local/www.example.com.cert;</span><br><span class="line">		ssl_certificate_key /usr/local/ www.example.com.key;#隐私性要高</span><br><span class="line">		ssl_protocols   TLSv1 TLSv1.2 TLSv1.1;</span><br><span class="line">		ssl_ciphers     HIGH:!aNull:!MD5;</span><br><span class="line">	   &#125;</span><br><span class="line">      &#125;</span><br><span class="line">     ssl_session_cache 有四个选项</span><br><span class="line">	1&gt; off 严格禁止　明确告诉服务端不能重复利用</span><br><span class="line">　　　　2&gt; none 优雅拒绝　不言明</span><br><span class="line">        3&gt; builtin 不建议这样使用，只能被一个工作进程使用　默认的</span><br><span class="line">	   session 数目是2048</span><br><span class="line">	4&gt; shared: name: size</span><br><span class="line">     SSL操作极度消耗CPU资源，最为耗CPU的操作是SSL握手，</span><br><span class="line">     1&gt; 保持长连接，一次连接发送多个请求</span><br><span class="line">　　 2&gt; 重复利用ssl_session 避免并行和后续连接的握手</span><br><span class="line">     </span><br><span class="line">     一个证书，可以有多个server 共享；</span><br><span class="line">     一个地址，可以有多个server 监听；</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/20/nginx-https/" data-id="cjdy2pjus003eh5nmht3eut8w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-https/">nginx_https</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-cache" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/20/nginx-cache/" class="article-date">
  <time datetime="2017-11-20T02:28:24.000Z" itemprop="datePublished">2017-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/20/nginx-cache/">nginx-cache</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">1. 开启响应的缓存配置</span><br><span class="line">　　http&#123;</span><br><span class="line">    	proxy_cache_path /data/nginx/cache keys_zone=one:10m max_size = 200m </span><br><span class="line">                     loader_threshold=300 loader_files=100 loader_sleeps=500;</span><br><span class="line">	<span class="comment"># 设置允许发送purge 请求的地址列表　（推荐）</span></span><br><span class="line">	geo <span class="variable">$purge_allowed</span> &#123;</span><br><span class="line">		default 0; <span class="comment"># deny from other</span></span><br><span class="line">		10.0.0.1 1; <span class="comment"># allow from localhost</span></span><br><span class="line">	&#125;</span><br><span class="line">        <span class="keyword">server</span> &#123;</span><br><span class="line">	    proxy_cache one;</span><br><span class="line">	    proxy_cache_min_uses <span class="number">5</span>;<span class="comment"># http server location</span></span><br><span class="line">	    proxy_cache_key <span class="string">"<span class="variable">$host</span><span class="variable">$request_uri</span><span class="variable">$cookie_user</span>"</span>; <span class="comment"># http server location</span></span><br><span class="line">	    proxy_cache_methods GET HEAD POST; <span class="comment">#http server location</span></span><br><span class="line">	    proxy_cache_valid <span class="number">200</span> <span class="number">302</span> <span class="number">10</span>m;</span><br><span class="line">	    proxy_no_cache <span class="variable">$http_pragma</span> <span class="variable">$http_authorization</span>;</span><br><span class="line">	    location / &#123;</span><br><span class="line">	         proxy_pass https://baidu.com;</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">   proxy_cache_path 定义了缓存内容的路径, max_size 规定了缓存内容的最大缓存</span><br><span class="line">   keys_zone 定义了缓存区的名字，以及大小（该缓存区缓存的是元数据）</span><br><span class="line">   nginx 的缓存管理器周期性检查缓存的状态，当缓存超过规定的缓冲大小，就清理</span><br><span class="line">　　最近缓存的内容</span><br><span class="line">　</span><br><span class="line">　 nginx 的缓存加载器在nginx启动之后只执行一次,它加载元数据到共享内存区域，</span><br><span class="line">　　　如果一次加载会耗费太多资源，拖累nginx的性能，可以通过一下配置予以改善</span><br><span class="line">　　　loade_threshold 一次遍历的时长</span><br><span class="line">　　　loader_files 一次遍历的文件数目</span><br><span class="line">　　　loader_sleeps 遍历间歇时长</span><br><span class="line">　</span><br><span class="line">　　默认情况下，响应永久呆在缓存里，我们可以设置缓存的</span><br><span class="line">　　proxy_cache_valid 200 302 10m;<span class="comment">#状态码为200 或者302 的响应时间为10分钟</span></span><br><span class="line"></span><br><span class="line">    定义那些请求的缓存响应不发给请求端</span><br><span class="line">　　proxy_cache_bypass  <span class="variable">$cookie_noche</span> <span class="variable">$arg_nocache</span><span class="variable">$arg_comment</span>;</span><br><span class="line">    只有以上三个变量　全部为０的时候，才会查取缓存。</span><br><span class="line">    如果有一个变量不为零，则不查取缓存，调用服务器。</span><br><span class="line">	</span><br><span class="line">    定义那些请求的响应不接受缓存</span><br><span class="line">　　proxy_no_cache <span class="variable">$http_progma</span> <span class="variable">$http_authorization</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    清除缓存</span><br><span class="line">    在http　水平上设置</span><br><span class="line">　　http&#123;</span><br><span class="line">	map <span class="variable">$request_method</span> <span class="variable">$purge_method</span>&#123;</span><br><span class="line">		PURGE 1;</span><br><span class="line">		default 0;</span><br><span class="line">	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    在location的水平上设置</span><br><span class="line">　　<span class="keyword">location</span> &#123;</span><br><span class="line">     	proxy_cache_purge <span class="variable">$purge_method</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    发送purge 请求(可以利用工具）</span><br><span class="line">　　curl -X PURGE -D - <span class="string">"https:baidu.com"</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/20/nginx-cache/" data-id="cjdy2pjut003fh5nmk2x597jw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-cache/">nginx_cache</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-reverse-proxy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/17/nginx-reverse-proxy/" class="article-date">
  <time datetime="2017-11-17T10:52:09.000Z" itemprop="datePublished">2017-11-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/17/nginx-reverse-proxy/">nginx-reverse_proxy</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 透传请求</span><br><span class="line">　　location /www/<span class="class"><span class="keyword">data</span>/ &#123;</span></span><br><span class="line"><span class="class">        <span class="title">proxy_pass</span> <span class="title">https</span>://<span class="title">host</span>:<span class="title">port</span>/;</span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line"><span class="class">    代理服务器的地址没有<span class="title">uri</span>(只有<span class="title">ip</span>和<span class="title">port</span>),因此<span class="title">request</span> 的<span class="title">uri</span>直接</span></span><br><span class="line"><span class="class">　　拼接上去。</span></span><br><span class="line"><span class="class">    <span class="title">location</span> /<span class="title">www</span>/<span class="title">data</span>/ &#123;</span></span><br><span class="line"><span class="class">	<span class="title">proxy_pass</span> <span class="title">https</span>://<span class="title">localhost</span>:<span class="title">port</span>/<span class="title">link</span>/; </span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line">    如果代理服务器的地址包含uri(/link/)请求是/www/<span class="class"><span class="keyword">data</span>/images/home.html</span></span><br><span class="line">    那么将会代理到https://localhost:port/link/images/home.html;</span><br><span class="line"><span class="number">2.</span> 请求头的透传 和缓存配置</span><br><span class="line">　　location /www/<span class="class"><span class="keyword">data</span>/ &#123;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_buffering</span> <span class="title">on</span>;</span></span><br><span class="line"><span class="class">       #16代表缓存的请求数目　4<span class="title">k</span> 代表每个请求的缓存大小；</span></span><br><span class="line"><span class="class">       <span class="title">proxy_buffers</span> 16 4<span class="title">k</span>;</span></span><br><span class="line"><span class="class">       #来自代理服务器的响应第一部分缓存大小，通常缓存响应的<span class="title">header</span> ,比剩下的响应所占的缓存小；</span></span><br><span class="line"><span class="class">       <span class="title">proxy_buffer_size</span> 2<span class="title">k</span>;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_set_header</span> <span class="type">Host</span> $<span class="title">host</span>;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_set_header</span> <span class="type">X</span>-<span class="type">Real</span>-<span class="type">Ip</span> $<span class="title">remote_addr</span>;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_pass</span> <span class="title">http</span>://<span class="title">baidu</span>.<span class="title">com</span>;</span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="number">3.</span>  </span><br><span class="line">  　如果你的nginx 服务器是一个集群，有时候需要指定一个</span><br><span class="line">　 location /www/<span class="class"><span class="keyword">data</span>/ &#123;</span></span><br><span class="line"><span class="class">      <span class="title">proxy_bind</span> 127.0.0.1 ;</span></span><br><span class="line"><span class="class">      <span class="title">proxy_pass</span> <span class="title">http</span>://<span class="title">baidu</span>.<span class="title">com</span>/;</span></span><br><span class="line"><span class="class">   &#125;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/17/nginx-reverse-proxy/" data-id="cjdy2pjv3003sh5nm4t8509mg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-reverse-proxy/">nginx_reverse-proxy</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-static-content" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/16/nginx-static-content/" class="article-date">
  <time datetime="2017-11-16T11:14:05.000Z" itemprop="datePublished">2017-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/16/nginx-static-content/">nginx-static_content</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>1. root 指令
　　root 指令是指定用于搜寻文件的根目录，为了获取需要的文件，nginx 用root 
    指定的根目录与request URI 进行拼接。
　　该指令可以放置在http server location 的任何级别上下文（context)
    http{
    server{
        root /www/data;
        location /images/{
            autoindex on;
        }
        location / {
        }
        location ~\.(mp3|mp4){
            root /www/media/;
        }
    }
    }
   server 下的root 适用于所有的不包括root指令的location
   autoindex 指令　on是开启目录　off 是关闭目录
2. index指令
   如果request以／结尾，nginx 将视为在对应的目录下寻找所需的index文件,
   这个index 指令定义了index文件的名字（默认情况下是index.html),在返回
　 index 文件过程中，niginx 会检查文件的存在性然后内部重定向。 
　 location / {
    root /www/data;
    index index.htm index.html index.php;
   }

   location ~\.php {
    fastcgi_pass localhost:8000;
   }
   如果request url是/images/,如果/www/data/images/index.html　不存在
   但是index.php存在，以/images/index.php为新的url重新定向,这时候就会走
　 第二个location;
3.try_files指令
　try_files　指令是检查指定的文件和目录是否存在，如果存在则内部重定向，
  否则返回特定的错误码。
　server {
    root /www/data;
        location /images/ {
         try_files $uri /images/default.gif;
    }
    location / {
        try_files $uri $uri.html  =404;
    }
        location /data/{
            try_files $uri $uri/ @backend;
    }
    location @backend{
        proxy_pass: http://locahost:8080;
    }
  }
  try_files 的最后一个参数可以是一个状态码或者location的名字
4. sendfile指令
　location /mp3 {
    sendfile on;
    #tcp_nopush 必须在sendfile on 才有效
    tcp_nopush on;
    sendfile_max_chunk 1m;
  }
  sendfile 指令避免了拷贝文件到buffer,直接拷贝文件
　sendfile_max_chunk 限定了传输数据的大小
  tcp_nopush 当开启的时候，在文件传输完成，自动把response 头封包并发送
5. 调整系统最大的网络连接数
　for linux
  sudo sysctl -w net.coresomaxconn=4096;
  你也可以通过配置文件
　　　vi /etc/sysctl.conf
  添加一下内容
　　　net.core.somaxconn=4096
  对于nginx默认值是512,r如果更大的话可以通过配置
　　　server {
      listen 80 backlog=4096;
      }
6. tcp_nodelay 指令
　tcp_nodelay 指令重写Nagle的算法，以小的packet包解决在网络慢 的难题　　
　适用于长连接
　tcp_nodelay
  location /mp3 {
       tcp_nodelay on;
       keeplive_timeout 65;
  }
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/16/nginx-static-content/" data-id="cjdy2pjux003lh5nmw2s0ci9k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-server/">nginx_server</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm-sort-order/">algorithm_sort_order</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-proguard/">android proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-aidl/">android_application_aidl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-content-provider/">android_application_content_provider</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-customer-view/">android_application_customer_view</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-event-dispatch/">android_application_event_dispatch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-handler/">android_application_handler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-long-running-operation/">android_application_long_running_operation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-parcelable/">android_application_parcelable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-security/">android_application_security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-application-threadlocal/">android_application_threadlocal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-framework-binder/">android_framework_binder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-framework-init-process/">android_framework_init_process</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-framework-launch-activity/">android_framework_launch_activity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-framework-servermanager/">android_framework_servermanager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-framework-set-content-view/">android_framework_set_content_view</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-framework-view-root-iml/">android_framework_view_root_iml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bat/">bat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-bitflag/">c_bitflag</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-object-releation/">c_object_releation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-operator/">c_operator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css-flex-box/">css_flex_box</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-accurancy/">data_accurancy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database-mysql/">database_mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database-mysql-backup/">database_mysql_backup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database-mysql-install/">database_mysql_install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database-mysql-table/">database_mysql_table</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-mode-mvp/">design_mode_mvp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go-beego/">go_beego</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-proguard/">gradle_proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-project/">gradle_project</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-study/">gradle_study</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-task/">gradle_task</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-concurrent/">java_concurrent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-hash-index/">java_hash_index</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-jvm/">java_jvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-jvm-class-struct/">java_jvm_class_struct</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-jvm-gc/">java_jvm_gc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-thread/">java_thread</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascipt-object/">javascipt_object</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-basic/">javascript_basic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-function/">javascript_function</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript-typescript/">javascript_typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-cmd/">linux_cmd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-reinstall/">linux_reinstall</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/net-http-status/">net_http_status</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/net-tls/">net_tls</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-cache/">nginx_cache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-https/">nginx_https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-loader-balance/">nginx_loader_balance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-reverse-proxy/">nginx_reverse-proxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-server/">nginx_server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm-cmd/">npm_cmd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proto-buf/">proto_buf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python-install/">python_install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reflect/">reflect</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh-cmd/">ssh_cmd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svg-basic/">svg_basic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool-svn/">tool_svn</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/algorithm-sort-order/" style="font-size: 10px;">algorithm_sort_order</a> <a href="/tags/android-proguard/" style="font-size: 10px;">android proguard</a> <a href="/tags/android-application-aidl/" style="font-size: 10px;">android_application_aidl</a> <a href="/tags/android-application-content-provider/" style="font-size: 10px;">android_application_content_provider</a> <a href="/tags/android-application-customer-view/" style="font-size: 10px;">android_application_customer_view</a> <a href="/tags/android-application-event-dispatch/" style="font-size: 10px;">android_application_event_dispatch</a> <a href="/tags/android-application-handler/" style="font-size: 10px;">android_application_handler</a> <a href="/tags/android-application-long-running-operation/" style="font-size: 10px;">android_application_long_running_operation</a> <a href="/tags/android-application-parcelable/" style="font-size: 10px;">android_application_parcelable</a> <a href="/tags/android-application-security/" style="font-size: 10px;">android_application_security</a> <a href="/tags/android-application-threadlocal/" style="font-size: 10px;">android_application_threadlocal</a> <a href="/tags/android-framework-binder/" style="font-size: 20px;">android_framework_binder</a> <a href="/tags/android-framework-init-process/" style="font-size: 10px;">android_framework_init_process</a> <a href="/tags/android-framework-launch-activity/" style="font-size: 13.33px;">android_framework_launch_activity</a> <a href="/tags/android-framework-servermanager/" style="font-size: 10px;">android_framework_servermanager</a> <a href="/tags/android-framework-set-content-view/" style="font-size: 10px;">android_framework_set_content_view</a> <a href="/tags/android-framework-view-root-iml/" style="font-size: 10px;">android_framework_view_root_iml</a> <a href="/tags/bat/" style="font-size: 10px;">bat</a> <a href="/tags/c-bitflag/" style="font-size: 10px;">c_bitflag</a> <a href="/tags/c-object-releation/" style="font-size: 13.33px;">c_object_releation</a> <a href="/tags/c-operator/" style="font-size: 10px;">c_operator</a> <a href="/tags/css-flex-box/" style="font-size: 10px;">css_flex_box</a> <a href="/tags/data-accurancy/" style="font-size: 10px;">data_accurancy</a> <a href="/tags/database-mysql/" style="font-size: 16.67px;">database_mysql</a> <a href="/tags/database-mysql-backup/" style="font-size: 13.33px;">database_mysql_backup</a> <a href="/tags/database-mysql-install/" style="font-size: 13.33px;">database_mysql_install</a> <a href="/tags/database-mysql-table/" style="font-size: 10px;">database_mysql_table</a> <a href="/tags/design-mode-mvp/" style="font-size: 10px;">design_mode_mvp</a> <a href="/tags/go-beego/" style="font-size: 10px;">go_beego</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/gradle-proguard/" style="font-size: 10px;">gradle_proguard</a> <a href="/tags/gradle-project/" style="font-size: 10px;">gradle_project</a> <a href="/tags/gradle-study/" style="font-size: 10px;">gradle_study</a> <a href="/tags/gradle-task/" style="font-size: 10px;">gradle_task</a> <a href="/tags/java-concurrent/" style="font-size: 10px;">java_concurrent</a> <a href="/tags/java-hash-index/" style="font-size: 10px;">java_hash_index</a> <a href="/tags/java-jvm/" style="font-size: 10px;">java_jvm</a> <a href="/tags/java-jvm-class-struct/" style="font-size: 10px;">java_jvm_class_struct</a> <a href="/tags/java-jvm-gc/" style="font-size: 10px;">java_jvm_gc</a> <a href="/tags/java-thread/" style="font-size: 10px;">java_thread</a> <a href="/tags/javascipt-object/" style="font-size: 10px;">javascipt_object</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/javascript-basic/" style="font-size: 10px;">javascript_basic</a> <a href="/tags/javascript-function/" style="font-size: 10px;">javascript_function</a> <a href="/tags/javascript-typescript/" style="font-size: 10px;">javascript_typescript</a> <a href="/tags/linux-cmd/" style="font-size: 13.33px;">linux_cmd</a> <a href="/tags/linux-reinstall/" style="font-size: 10px;">linux_reinstall</a> <a href="/tags/net-http-status/" style="font-size: 10px;">net_http_status</a> <a href="/tags/net-tls/" style="font-size: 10px;">net_tls</a> <a href="/tags/nginx-cache/" style="font-size: 10px;">nginx_cache</a> <a href="/tags/nginx-https/" style="font-size: 10px;">nginx_https</a> <a href="/tags/nginx-loader-balance/" style="font-size: 10px;">nginx_loader_balance</a> <a href="/tags/nginx-reverse-proxy/" style="font-size: 10px;">nginx_reverse-proxy</a> <a href="/tags/nginx-server/" style="font-size: 16.67px;">nginx_server</a> <a href="/tags/npm-cmd/" style="font-size: 10px;">npm_cmd</a> <a href="/tags/proto-buf/" style="font-size: 10px;">proto_buf</a> <a href="/tags/python-install/" style="font-size: 10px;">python_install</a> <a href="/tags/reflect/" style="font-size: 10px;">reflect</a> <a href="/tags/ssh-cmd/" style="font-size: 10px;">ssh_cmd</a> <a href="/tags/svg-basic/" style="font-size: 13.33px;">svg_basic</a> <a href="/tags/test/" style="font-size: 13.33px;">test</a> <a href="/tags/tool-svn/" style="font-size: 10px;">tool_svn</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/02/11/algorithm-basic/">algorithm-basic</a>
          </li>
        
          <li>
            <a href="/2018/02/05/protocol-buffer/">protocol_buffer</a>
          </li>
        
          <li>
            <a href="/2018/02/01/javascript-typescript/">javascript-typescript</a>
          </li>
        
          <li>
            <a href="/2018/01/29/javascript-object-1/">javascript-object</a>
          </li>
        
          <li>
            <a href="/2018/01/27/javascript-function/">javascript-function</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>