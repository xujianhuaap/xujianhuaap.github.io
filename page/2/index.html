<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-nginx-loader-balance" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/20/nginx-loader-balance/" class="article-date">
  <time datetime="2017-11-20T14:06:11.000Z" itemprop="datePublished">2017-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/20/nginx-loader-balance/">nginx-loader_balance</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 负载均衡设置</span><br><span class="line">	http &#123;</span><br><span class="line">		upstream backend &#123;</span><br><span class="line">			ip_hash;<span class="meta"># least_time header  </span></span><br><span class="line">			<span class="keyword">server</span> backend.example weight=<span class="number">5</span>;</span><br><span class="line">			<span class="keyword">server</span> skullmind.cn ;</span><br><span class="line">			<span class="meta">#unix socket</span></span><br><span class="line">			<span class="keyword">server</span> unix:/var/run/nginx.sock;</span><br><span class="line">			<span class="keyword">server</span> localhost backup;</span><br><span class="line">		&#125;</span><br><span class="line">		location / &#123;</span><br><span class="line">			proxy_pass http:<span class="comment">//backend;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	upstream 指令用于定义一组<span class="keyword">server</span>;</span><br><span class="line">	<span class="keyword">server</span> 指令（不同于上下文<span class="keyword">server</span>) </span><br><span class="line">	    address ip unix_socket domain</span><br><span class="line">            weight=<span class="number">5</span> <span class="meta"># 权重</span></span><br><span class="line">            max_conn=<span class="number">100</span></span><br><span class="line">	    max_fail =<span class="number">100</span> </span><br><span class="line">	    fail_timeout= <span class="number">10</span></span><br><span class="line">	    backup <span class="meta"># 标记为备份</span></span><br><span class="line">            down; <span class="meta"># 不可用</span></span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span> 负载均衡的算法</span><br><span class="line">　　<span class="number">1</span>&gt; 循环</span><br><span class="line">　　<span class="number">2</span>&gt; 最少连接least_conn</span><br><span class="line">　　<span class="number">3</span>&gt; 权重</span><br><span class="line">　　<span class="number">4</span>&gt; ip_hash 保证同一个请求的要访问的服务器会一样，</span><br><span class="line">       除非服务器不可用</span><br><span class="line">    <span class="number">5</span>&gt; hash (目前不建议使用)</span><br><span class="line">    <span class="number">6</span>&gt;延迟最少的 least_time header least_time last_byte</span><br><span class="line"><span class="number">3.</span> <span class="keyword">server</span> 监控</span><br><span class="line">	upstream 指令只能在http 上下文中</span><br><span class="line">	upstream backend &#123;</span><br><span class="line">		<span class="keyword">server</span> www.data.com slow_start=<span class="number">30</span>s;</span><br><span class="line">		<span class="keyword">server</span> www.data.com max_fails=<span class="number">10</span> fail_timeout=<span class="number">30</span>s;</span><br><span class="line">		<span class="keyword">server</span> www.data.com max_fails=<span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">        max_fails 表示当连接失败达到一定次数，就认为该<span class="keyword">server</span> 不可用</span><br><span class="line">	fails_timeout 表示连接的最大时长，超过既认为连接失败</span><br><span class="line"></span><br><span class="line">	http &#123;	</span><br><span class="line">		upstream backend &#123;</span><br><span class="line">			zone backend <span class="number">64</span>k;</span><br><span class="line">		</span><br><span class="line">			sever www.data.com;</span><br><span class="line">			<span class="keyword">server</span> www.data.com weight =<span class="number">5</span>;</span><br><span class="line">			<span class="keyword">server</span> www.data2.com backup;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		location / &#123;</span><br><span class="line">			proxy_pass http:<span class="comment">//backend;</span></span><br><span class="line">			health_check;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">	周期性的发送特定的请求给每个<span class="keyword">server</span> 检查特定的响应可以</span><br><span class="line">	判断<span class="keyword">server</span> 的可用情况</span><br><span class="line">	zone指令　分配一定的工作进程共享区，存储着<span class="keyword">server</span> 组的</span><br><span class="line">		配置，能够确保，工作进程用同一套计数集合。</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/20/nginx-loader-balance/" data-id="cjaw40i9w00302enmmo8x6hpx" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-loader-balance/">nginx loader_balance</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-https" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/20/nginx-https/" class="article-date">
  <time datetime="2017-11-20T10:02:32.000Z" itemprop="datePublished">2017-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/20/nginx-https/">nginx-https</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1. 配置一个https server</span><br><span class="line">      http&#123;</span><br><span class="line">	    ssl_session_cache  shared:SSL:10m;#</span><br><span class="line">	    ssl_session_time_out 10m;</span><br><span class="line">	   <span class="built_in"> server </span>&#123;</span><br><span class="line">		listen 443 ssl;</span><br><span class="line">		server_name www.example.com;</span><br><span class="line">		ssl_certificate /usr/local/www.example.com.cert;</span><br><span class="line">		ssl_certificate_key /usr/local/ www.example.com.key;#隐私性要高</span><br><span class="line">		ssl_protocols   TLSv1 TLSv1.2 TLSv1.1;</span><br><span class="line">		ssl_ciphers     HIGH:!aNull:!MD5;</span><br><span class="line">	   &#125;</span><br><span class="line">      &#125;</span><br><span class="line">     ssl_session_cache 有四个选项</span><br><span class="line">	1&gt; off 严格禁止　明确告诉服务端不能重复利用</span><br><span class="line">　　　　2&gt; none 优雅拒绝　不言明</span><br><span class="line">        3&gt; builtin 不建议这样使用，只能被一个工作进程使用　默认的</span><br><span class="line">	   session 数目是2048</span><br><span class="line">	4&gt; shared: name: size</span><br><span class="line">     SSL操作极度消耗CPU资源，最为耗CPU的操作是SSL握手，</span><br><span class="line">     1&gt; 保持长连接，一次连接发送多个请求</span><br><span class="line">　　 2&gt; 重复利用ssl_session 避免并行和后续连接的握手</span><br><span class="line">     </span><br><span class="line">     一个证书，可以有多个server 共享；</span><br><span class="line">     一个地址，可以有多个server 监听；</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/20/nginx-https/" data-id="cjaw40i9u002w2enm45ne8w5h" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-https/">nginx https</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-cache" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/20/nginx-cache/" class="article-date">
  <time datetime="2017-11-20T02:28:24.000Z" itemprop="datePublished">2017-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/20/nginx-cache/">nginx-cache</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">1. 开启响应的缓存配置</span><br><span class="line">　　http&#123;</span><br><span class="line">    	proxy_cache_path /data/nginx/cache keys_zone=one:10m max_size = 200m </span><br><span class="line">                     loader_threshold=300 loader_files=100 loader_sleeps=500;</span><br><span class="line">	<span class="comment"># 设置允许发送purge 请求的地址列表　（推荐）</span></span><br><span class="line">	geo <span class="variable">$purge_allowed</span> &#123;</span><br><span class="line">		default 0; <span class="comment"># deny from other</span></span><br><span class="line">		10.0.0.1 1; <span class="comment"># allow from localhost</span></span><br><span class="line">	&#125;</span><br><span class="line">        <span class="keyword">server</span> &#123;</span><br><span class="line">	    proxy_cache one;</span><br><span class="line">	    proxy_cache_min_uses <span class="number">5</span>;<span class="comment"># http server location</span></span><br><span class="line">	    proxy_cache_key <span class="string">"<span class="variable">$host</span><span class="variable">$request_uri</span><span class="variable">$cookie_user</span>"</span>; <span class="comment"># http server location</span></span><br><span class="line">	    proxy_cache_methods GET HEAD POST; <span class="comment">#http server location</span></span><br><span class="line">	    proxy_cache_valid <span class="number">200</span> <span class="number">302</span> <span class="number">10</span>m;</span><br><span class="line">	    proxy_no_cache <span class="variable">$http_pragma</span> <span class="variable">$http_authorization</span>;</span><br><span class="line">	    location / &#123;</span><br><span class="line">	         proxy_pass https://baidu.com;</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">   proxy_cache_path 定义了缓存内容的路径, max_size 规定了缓存内容的最大缓存</span><br><span class="line">   keys_zone 定义了缓存区的名字，以及大小（该缓存区缓存的是元数据）</span><br><span class="line">   nginx 的缓存管理器周期性检查缓存的状态，当缓存超过规定的缓冲大小，就清理</span><br><span class="line">　　最近缓存的内容</span><br><span class="line">　</span><br><span class="line">　 nginx 的缓存加载器在nginx启动之后只执行一次,它加载元数据到共享内存区域，</span><br><span class="line">　　　如果一次加载会耗费太多资源，拖累nginx的性能，可以通过一下配置予以改善</span><br><span class="line">　　　loade_threshold 一次遍历的时长</span><br><span class="line">　　　loader_files 一次遍历的文件数目</span><br><span class="line">　　　loader_sleeps 遍历间歇时长</span><br><span class="line">　</span><br><span class="line">　　默认情况下，响应永久呆在缓存里，我们可以设置缓存的</span><br><span class="line">　　proxy_cache_valid 200 302 10m;<span class="comment">#状态码为200 或者302 的响应时间为10分钟</span></span><br><span class="line"></span><br><span class="line">    定义那些请求的缓存响应不发给请求端</span><br><span class="line">　　proxy_cache_bypass  <span class="variable">$cookie_noche</span> <span class="variable">$arg_nocache</span><span class="variable">$arg_comment</span>;</span><br><span class="line">    只有以上三个变量　全部为０的时候，才会查取缓存。</span><br><span class="line">    如果有一个变量不为零，则不查取缓存，调用服务器。</span><br><span class="line">	</span><br><span class="line">    定义那些请求的响应不接受缓存</span><br><span class="line">　　proxy_no_cache <span class="variable">$http_progma</span> <span class="variable">$http_authorization</span>;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    清除缓存</span><br><span class="line">    在http　水平上设置</span><br><span class="line">　　http&#123;</span><br><span class="line">	map <span class="variable">$request_method</span> <span class="variable">$purge_method</span>&#123;</span><br><span class="line">		PURGE 1;</span><br><span class="line">		default 0;</span><br><span class="line">	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    在location的水平上设置</span><br><span class="line">　　<span class="keyword">location</span> &#123;</span><br><span class="line">     	proxy_cache_purge <span class="variable">$purge_method</span>;</span><br><span class="line">    &#125; </span><br><span class="line">    发送purge 请求(可以利用工具）</span><br><span class="line">　　curl -X PURGE -D - <span class="string">"https:baidu.com"</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/20/nginx-cache/" data-id="cjaw40i9t002u2enmjy899pg0" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-cache/">nginx cache</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-reverse-proxy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/17/nginx-reverse-proxy/" class="article-date">
  <time datetime="2017-11-17T10:52:09.000Z" itemprop="datePublished">2017-11-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/17/nginx-reverse-proxy/">nginx-reverse_proxy</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 透传请求</span><br><span class="line">　　location /www/<span class="class"><span class="keyword">data</span>/ &#123;</span></span><br><span class="line"><span class="class">        <span class="title">proxy_pass</span> <span class="title">https</span>://<span class="title">host</span>:<span class="title">port</span>/;</span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line"><span class="class">    代理服务器的地址没有<span class="title">uri</span>(只有<span class="title">ip</span>和<span class="title">port</span>),因此<span class="title">request</span> 的<span class="title">uri</span>直接</span></span><br><span class="line"><span class="class">　　拼接上去。</span></span><br><span class="line"><span class="class">    <span class="title">location</span> /<span class="title">www</span>/<span class="title">data</span>/ &#123;</span></span><br><span class="line"><span class="class">	<span class="title">proxy_pass</span> <span class="title">https</span>://<span class="title">localhost</span>:<span class="title">port</span>/<span class="title">link</span>/; </span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line">    如果代理服务器的地址包含uri(/link/)请求是/www/<span class="class"><span class="keyword">data</span>/images/home.html</span></span><br><span class="line">    那么将会代理到https://localhost:port/link/images/home.html;</span><br><span class="line"><span class="number">2.</span> 请求头的透传 和缓存配置</span><br><span class="line">　　location /www/<span class="class"><span class="keyword">data</span>/ &#123;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_buffering</span> <span class="title">on</span>;</span></span><br><span class="line"><span class="class">       #16代表缓存的请求数目　4<span class="title">k</span> 代表每个请求的缓存大小；</span></span><br><span class="line"><span class="class">       <span class="title">proxy_buffers</span> 16 4<span class="title">k</span>;</span></span><br><span class="line"><span class="class">       #来自代理服务器的响应第一部分缓存大小，通常缓存响应的<span class="title">header</span> ,比剩下的响应所占的缓存小；</span></span><br><span class="line"><span class="class">       <span class="title">proxy_buffer_size</span> 2<span class="title">k</span>;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_set_header</span> <span class="type">Host</span> $<span class="title">host</span>;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_set_header</span> <span class="type">X</span>-<span class="type">Real</span>-<span class="type">Ip</span> $<span class="title">remote_addr</span>;</span></span><br><span class="line"><span class="class">       <span class="title">proxy_pass</span> <span class="title">http</span>://<span class="title">baidu</span>.<span class="title">com</span>;</span></span><br><span class="line"><span class="class">    &#125;</span></span><br><span class="line"><span class="number">3.</span>  </span><br><span class="line">  　如果你的nginx 服务器是一个集群，有时候需要指定一个</span><br><span class="line">　 location /www/<span class="class"><span class="keyword">data</span>/ &#123;</span></span><br><span class="line"><span class="class">      <span class="title">proxy_bind</span> 127.0.0.1 ;</span></span><br><span class="line"><span class="class">      <span class="title">proxy_pass</span> <span class="title">http</span>://<span class="title">baidu</span>.<span class="title">com</span>/;</span></span><br><span class="line"><span class="class">   &#125;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/17/nginx-reverse-proxy/" data-id="cjaw40i9v002x2enmffadwj1y" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx-reverse-proxy/">nginx reverse-proxy</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-static-content" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/16/nginx-static-content/" class="article-date">
  <time datetime="2017-11-16T11:14:05.000Z" itemprop="datePublished">2017-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/16/nginx-static-content/">nginx-static_content</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>1. root 指令
　　root 指令是指定用于搜寻文件的根目录，为了获取需要的文件，nginx 用root 
    指定的根目录与request URI 进行拼接。
　　该指令可以放置在http server location 的任何级别上下文（context)
    http{
    server{
        root /www/data;
        location /images/{
            autoindex on;
        }
        location / {
        }
        location ~\.(mp3|mp4){
            root /www/media/;
        }
    }
    }
   server 下的root 适用于所有的不包括root指令的location
   autoindex 指令　on是开启目录　off 是关闭目录
2. index指令
   如果request以／结尾，nginx 将视为在对应的目录下寻找所需的index文件,
   这个index 指令定义了index文件的名字（默认情况下是index.html),在返回
　 index 文件过程中，niginx 会检查文件的存在性然后内部重定向。 
　 location / {
    root /www/data;
    index index.htm index.html index.php;
   }

   location ~\.php {
    fastcgi_pass localhost:8000;
   }
   如果request url是/images/,如果/www/data/images/index.html　不存在
   但是index.php存在，以/images/index.php为新的url重新定向,这时候就会走
　 第二个location;
3.try_files指令
　try_files　指令是检查指定的文件和目录是否存在，如果存在则内部重定向，
  否则返回特定的错误码。
　server {
    root /www/data;
        location /images/ {
         try_files $uri /images/default.gif;
    }
    location / {
        try_files $uri $uri.html  =404;
    }
        location /data/{
            try_files $uri $uri/ @backend;
    }
    location @backend{
        proxy_pass: http://locahost:8080;
    }
  }
  try_files 的最后一个参数可以是一个状态码或者location的名字
4. sendfile指令
　location /mp3 {
    sendfile on;
    #tcp_nopush 必须在sendfile on 才有效
    tcp_nopush on;
    sendfile_max_chunk 1m;
  }
  sendfile 指令避免了拷贝文件到buffer,直接拷贝文件
　sendfile_max_chunk 限定了传输数据的大小
  tcp_nopush 当开启的时候，在文件传输完成，自动把response 头封包并发送
5. 调整系统最大的网络连接数
　for linux
  sudo sysctl -w net.coresomaxconn=4096;
  你也可以通过配置文件
　　　vi /etc/sysctl.conf
  添加一下内容
　　　net.core.somaxconn=4096
  对于nginx默认值是512,r如果更大的话可以通过配置
　　　server {
      listen 80 backlog=4096;
      }
6. tcp_nodelay 指令
　tcp_nodelay 指令重写Nagle的算法，以小的packet包解决在网络慢 的难题　　
　适用于长连接
　tcp_nodelay
  location /mp3 {
       tcp_nodelay on;
       keeplive_timeout 65;
  }
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/16/nginx-static-content/" data-id="cjaw40i9x00312enmgu5v3tf9" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/server-nginx/">server nginx</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-study01" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/15/nginx-study01/" class="article-date">
  <time datetime="2017-11-15T09:25:22.000Z" itemprop="datePublished">2017-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/15/nginx-study01/">nginx-webserver</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">　<span class="number">1</span>&gt;WebServer</span><br><span class="line">  http&#123;</span><br><span class="line">      server&#123;</span><br><span class="line">   listen <span class="number">192.168</span>.<span class="number">23.74</span>:<span class="number">8080</span>;</span><br><span class="line">   server_name www.baidu.com baidu.com;</span><br><span class="line">   <span class="comment">#the rest server config</span></span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br><span class="line"> server_name(指令）的参数可以是一个准确的名字（exact),泛型</span><br><span class="line">        （wildcard),正则（regular of perl syntax)。</span><br><span class="line">	　因次当有多个名字满足时候，按照一下顺序：</span><br><span class="line">	　a&gt; exact name</span><br><span class="line"> b&gt; wildcard name *.baidu.com baidu.*</span><br><span class="line"> c&gt; 正则的name ~(.com)$</span><br><span class="line"> 在没有server_name 匹配的情况下会有一个默认的default_server.</span><br><span class="line"></span><br><span class="line"> http&#123;</span><br><span class="line">    server&#123;</span><br><span class="line"> <span class="keyword">location</span> <span class="title">~/.html</span>?&#123;</span><br><span class="line">    root /data;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">location</span> <span class="title">/&#123;</span></span><br><span class="line"><span class="title">    proxy_pass</span> baidu.com;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="comment">#返回错误码</span></span><br><span class="line"> <span class="keyword">location</span> <span class="title">/wrong</span>/url&#123;</span><br><span class="line">     return <span class="number">404</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">#重新定向</span></span><br><span class="line">	　　　　 <span class="keyword">location</span> <span class="title">/users</span>/&#123;</span><br><span class="line">     rewrite ^/users/(.*)$  /show?/<span class="attr">user=</span>$<span class="number">1</span> break;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">location</span> <span class="title">/err</span>/ &#123;</span><br><span class="line">    err_page <span class="number">404</span> = <span class="number">301</span> http://baidu.com/err.html;</span><br><span class="line"> &#125; </span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> 一个<span class="keyword">location</span> <span class="title">上下文包含处理request</span>的指令集，提供一个静态文件或者传给代理服务器。</span><br><span class="line"> 重新定向的指令有一个选项　两个参数，第一个参数，正则必须匹配request url;第二个参数</span><br><span class="line"> 是替换后的url, 选项是一个标志　break(停止）last(继续）</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/15/nginx-study01/" data-id="cjaw40i9z00352enmamzh2wz6" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/server-nginx/">server nginx</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nginx-study" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/14/nginx-study/" class="article-date">
  <time datetime="2017-11-14T13:29:52.000Z" itemprop="datePublished">2017-11-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/14/nginx-study/">nginx-study</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight erlang-repl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">1&gt; </span>nginx 作为反向代理服务器</span><br><span class="line"><span class="meta">2&gt; </span>工作模型</span><br><span class="line">　　一个主进程和多个工作进程，主进程管理工作进程和读取配置。</span><br><span class="line">工作进程主要是处理Request，工作进程的数量，取决于配置文件(</span><br><span class="line">固定的或者与内核数目有关）</span><br><span class="line">　　配置文件为nginx.conf 位于/usr/local/nginx/conf</span><br><span class="line">/etc/nginx 或者　/usr/local/etc/nginx</span><br><span class="line"><span class="meta">3&gt; </span>nginx 常用命令</span><br><span class="line">nginx -s signal</span><br><span class="line">signal 可以是start stop(shutdown now) reload reopen quit(shut down gracefully)</span><br><span class="line"><span class="meta">4&gt; </span>配置文件</span><br><span class="line">配置文件通常由一系列的指令组成，可以分为简单的指令和block指令。</span><br><span class="line">http&#123;</span><br><span class="line">    server&#123;</span><br><span class="line">	 location / &#123;</span><br><span class="line">		root /data/ww;</span><br><span class="line">	 &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">http 是server 的上下文，server是location的上下文, root 是简单指令，location 是块指令。</span><br><span class="line"><span class="number">5</span>&gt;静态内容配置</span><br><span class="line">http&#123;</span><br><span class="line">    server&#123;</span><br><span class="line">	 location / &#123;</span><br><span class="line">		root /data/ww;</span><br><span class="line">	 &#125;</span><br><span class="line">	 location /images &#123;</span><br><span class="line">		root /data/images;</span><br><span class="line">	 &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">匹配request 的url 如果有多个合适匹配项，则匹配最长的。</span><br><span class="line"><span class="meta">6&gt; </span>简单的代理配置</span><br><span class="line">http&#123;</span><br><span class="line">    server&#123;</span><br><span class="line">	location /&#123;</span><br><span class="line">	    proxy_pass http://baidu.com;</span><br><span class="line">	&#125;</span><br><span class="line">        location ~\.(gif|jpg|png)$&#123;</span><br><span class="line">	    root /data/images;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">7&gt; </span>设置CGI代理设置</span><br><span class="line">http&#123;</span><br><span class="line">    server&#123;</span><br><span class="line">	location&#123;</span><br><span class="line">	    fastcgi_pass <span class="number">192.168</span>.<span class="number">23.78</span>:<span class="number">89</span>;</span><br><span class="line">	    fastcgi_param SCRIPT_NAME $document_root/$fast_cgi_scriptname;</span><br><span class="line">	    fastcgi_param QUERY_STRING $qury_string;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">由于nginx本身不支持调用外部服务器程序的功能，需要通过FastCgi来完成。</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/14/nginx-study/" data-id="cjaw40i9y00332enm6v3udh4j" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/server-nginx/">server nginx</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-css-study" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/09/css-study/" class="article-date">
  <time datetime="2017-11-09T13:17:18.000Z" itemprop="datePublished">2017-11-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/09/css-study/">css-study</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.弹性盒子模型</span><br><span class="line">	容器</span><br><span class="line">	<span class="attribute">display</span>: flex;<span class="comment">//弹性 none block inline flex</span></span><br><span class="line">	<span class="attribute">flex-direction</span>: row;<span class="comment">//row row-reverse column colum-reverse 子元素排列顺序</span></span><br><span class="line">	<span class="attribute">justify-content</span>: flex-start;<span class="comment">//flex-start flex-end space-around center </span></span><br><span class="line">	<span class="attribute">align-items</span>: flex-start;<span class="comment">//同上</span></span><br><span class="line">	<span class="attribute">flex-wrap</span>: wrap;<span class="comment">//wrap nowrap wrap-reverse</span></span><br><span class="line">	<span class="number">1</span>&gt; nowrap 弹性容器为单行</span><br><span class="line">	<span class="number">2</span>&gt; wrap 在弹性子项溢出的部分会被放置到新行，子项内部会发生断行</span><br><span class="line">	<span class="number">3</span>&gt; wrap-reverse 反转wrap</span><br><span class="line">	子项</span><br><span class="line">	<span class="attribute">flex</span>: <span class="number">1</span>;<span class="comment">//弹性的比重比</span></span><br><span class="line"><span class="number">2</span>. 常识</span><br><span class="line">	<span class="number">1</span>&gt; block 元素　<span class="selector-tag">div</span> <span class="selector-tag">p</span> h</span><br><span class="line">	   inline 元素　<span class="selector-tag">a</span> span</span><br><span class="line">	<span class="number">2</span>&gt; 块元素自动对齐　<span class="attribute">margin-left</span>: auto;<span class="attribute">margin-right</span>: right;</span><br><span class="line">	<span class="number">3</span>&gt; 元素<span class="attribute">display</span>属性能够改变&lt;p style=<span class="string">'display: inline'</span>&gt;&lt;/p&gt;</span><br><span class="line"><span class="number">3</span>. 元素的定位属性</span><br><span class="line">	<span class="attribute">position</span>: static;<span class="comment">//static relative absolute fixed</span></span><br><span class="line">	<span class="number">1</span>&gt; static 情况下没有定位　不会受到<span class="attribute">top</span> bottom left right</span><br><span class="line">	<span class="number">2</span>&gt; fixed 相对于窗口位置不变</span><br><span class="line">	<span class="number">3</span>&gt; relative 相对其正常位置，受<span class="attribute">top</span> bottom let right 影响</span><br><span class="line">	<span class="number">4</span>&gt; absolute 相对与最近的绝对定位元素的位置</span><br><span class="line">            受<span class="attribute">bottom</span> let right 影响</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/09/css-study/" data-id="cjaw40i90001o2enmwqxunva3" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-C-Object" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/07/C-Object/" class="article-date">
  <time datetime="2017-11-07T13:40:21.000Z" itemprop="datePublished">2017-11-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/07/C-Object/">C-Object</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1. 面向对象编程</span><br><span class="line">	分析对象之前的关系，主要有以下几种：</span><br><span class="line"><span class="meta">	1&gt;</span><span class="bash">has<span class="_">-a</span> composition 具体可以分为两种aggrevation(聚合关系) 和composition(组合关系）</span></span><br><span class="line">		组合关系例如树和树叶，一片树叶智能属于一棵树，树叶随着树的产生，也随着树的死亡而死亡，一片叶子是树的一部分。树叶的</span><br><span class="line">		的死亡，树并不会死亡。</span><br><span class="line">		聚合关系例如车和车轮，一个车必须有车轮，一个车轮可以安在不同的车辆上，车报废了该车轮不一定报废了；车轮爆了车不一</span><br><span class="line">		定报废。</span><br><span class="line"><span class="meta">	2&gt;</span><span class="bash">use<span class="_">-a</span> assotation 联系关系</span></span><br><span class="line">		战士和枪，独立率彼此存在，一个战士可以拥有多支枪，一只抢可以由许多战士使用；</span><br><span class="line"><span class="meta">	3&gt;</span><span class="bash">depends-on dependency 依赖关系</span></span><br><span class="line">		人和空气，人依赖于空气（单向关系），被依赖的人产生基于依赖者的需要，一旦被依赖者被破坏，依赖者将会丧失某个功能；</span><br><span class="line"><span class="meta">	4&gt;</span><span class="bash"> member container 包含关系</span></span><br><span class="line">		array 和item的关系</span><br><span class="line"><span class="meta">	5&gt;</span><span class="bash"> is<span class="_">-a</span> inherit 继承关系</span></span><br><span class="line">		父子关系，继承传代；</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/07/C-Object/" data-id="cjaw40i7g00002enm2qa8s03d" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C-Object/">C Object</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-c-study-bitflag" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/03/c-study-bitflag/" class="article-date">
  <time datetime="2017-11-03T10:58:01.000Z" itemprop="datePublished">2017-11-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/03/c-study-bitflag/">c_study_bitflag</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> bitflag </span><br><span class="line">	基于位运算，达到我们的目的，</span><br><span class="line"><span class="number">2.</span> example</span><br><span class="line">	int flag = <span class="number">0</span>;</span><br><span class="line">	int flag_1 = <span class="number">1</span>;</span><br><span class="line">	int flag_2 = <span class="number">1</span> &lt;&lt; <span class="number">1</span>;</span><br><span class="line">	int flag_3 = <span class="number">1</span> &lt;&lt; <span class="number">2</span>;</span><br><span class="line">	int flag_4 = <span class="number">1</span> &lt;&lt; <span class="number">3</span>;</span><br><span class="line">	<span class="number">1</span>&gt; 判断flag是否具有flag_1 属性</span><br><span class="line">		flag &amp; flag_1 != <span class="number">0</span> 表示具有flag_1;</span><br><span class="line">	<span class="number">2</span>&gt; 判读flag是否具有flag_1 和floag_2 的属性</span><br><span class="line">		flag &amp; (flag_1 | flag_2) != <span class="number">0</span> 表示具有二者的属性；</span><br><span class="line">	<span class="number">3</span>&gt; 赋值给flag</span><br><span class="line">		flag | =( flag_2 | flag_1)</span><br><span class="line">	<span class="number">4</span>&gt; 关闭某个属性</span><br><span class="line">		flag &amp;= ~flag_1;</span><br><span class="line">	<span class="number">5</span>&gt; 翻转某个属性</span><br><span class="line">		flag^= flag_1;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/03/c-study-bitflag/" data-id="cjaw40i8y001m2enm69bdajls" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c/">c++</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/bat/">.bat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-Object/">C Object</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GC/">GC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVP/">MVP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Parcelable/">Parcelable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aidl/">aidl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-init-process/">android init_process</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-proguard/">android proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/binder/">binder</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/content-provider/">content_provider</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database-mysql/">database mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/float/">float</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go-beego/">go beego</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-Project/">gradle Project</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-Task/">gradle Task</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle-proguard/">gradle proguard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/handler/">handler</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http-status/">http-status</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-concurrent/">java concurrent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-jvm/">java jvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-thread/">java thread</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/launch-activity/">launch_activity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-cmd/">linux-cmd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/long-running-operation/">long_running_operation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/motion-event-multify-touch/">motion_event multify_touch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql-table/">mysql table</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql-backup/">mysql-backup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-cache/">nginx cache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-https/">nginx https</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-loader-balance/">nginx loader_balance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx-reverse-proxy/">nginx reverse-proxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python-install/">python-install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reflect/">reflect</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/">security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/server-nginx/">server nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servermanager/">servermanager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/set-content-view/">set_content_view</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh-scp/">ssh scp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/">svn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/usb-booter/">usb-booter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/view-root-iml/">view_root_iml</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/bat/" style="font-size: 10px;">.bat</a> <a href="/tags/C-Object/" style="font-size: 10px;">C Object</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/GC/" style="font-size: 10px;">GC</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/Parcelable/" style="font-size: 10px;">Parcelable</a> <a href="/tags/aidl/" style="font-size: 10px;">aidl</a> <a href="/tags/android-init-process/" style="font-size: 10px;">android init_process</a> <a href="/tags/android-proguard/" style="font-size: 10px;">android proguard</a> <a href="/tags/binder/" style="font-size: 20px;">binder</a> <a href="/tags/c/" style="font-size: 10px;">c++</a> <a href="/tags/content-provider/" style="font-size: 10px;">content_provider</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/database-mysql/" style="font-size: 10px;">database mysql</a> <a href="/tags/float/" style="font-size: 10px;">float</a> <a href="/tags/go-beego/" style="font-size: 10px;">go beego</a> <a href="/tags/gradle/" style="font-size: 13.33px;">gradle</a> <a href="/tags/gradle-Project/" style="font-size: 10px;">gradle Project</a> <a href="/tags/gradle-Task/" style="font-size: 10px;">gradle Task</a> <a href="/tags/gradle-proguard/" style="font-size: 10px;">gradle proguard</a> <a href="/tags/handler/" style="font-size: 10px;">handler</a> <a href="/tags/http-status/" style="font-size: 10px;">http-status</a> <a href="/tags/java-concurrent/" style="font-size: 10px;">java concurrent</a> <a href="/tags/java-jvm/" style="font-size: 10px;">java jvm</a> <a href="/tags/java-thread/" style="font-size: 10px;">java thread</a> <a href="/tags/launch-activity/" style="font-size: 13.33px;">launch_activity</a> <a href="/tags/linux-cmd/" style="font-size: 10px;">linux-cmd</a> <a href="/tags/long-running-operation/" style="font-size: 10px;">long_running_operation</a> <a href="/tags/motion-event-multify-touch/" style="font-size: 10px;">motion_event multify_touch</a> <a href="/tags/mysql/" style="font-size: 16.67px;">mysql</a> <a href="/tags/mysql-table/" style="font-size: 10px;">mysql table</a> <a href="/tags/mysql-backup/" style="font-size: 10px;">mysql-backup</a> <a href="/tags/nginx-cache/" style="font-size: 10px;">nginx cache</a> <a href="/tags/nginx-https/" style="font-size: 10px;">nginx https</a> <a href="/tags/nginx-loader-balance/" style="font-size: 10px;">nginx loader_balance</a> <a href="/tags/nginx-reverse-proxy/" style="font-size: 10px;">nginx reverse-proxy</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/python-install/" style="font-size: 10px;">python-install</a> <a href="/tags/reflect/" style="font-size: 10px;">reflect</a> <a href="/tags/security/" style="font-size: 10px;">security</a> <a href="/tags/server-nginx/" style="font-size: 16.67px;">server nginx</a> <a href="/tags/servermanager/" style="font-size: 10px;">servermanager</a> <a href="/tags/set-content-view/" style="font-size: 10px;">set_content_view</a> <a href="/tags/ssh-scp/" style="font-size: 10px;">ssh scp</a> <a href="/tags/svn/" style="font-size: 10px;">svn</a> <a href="/tags/test/" style="font-size: 13.33px;">test</a> <a href="/tags/usb-booter/" style="font-size: 10px;">usb-booter</a> <a href="/tags/view-root-iml/" style="font-size: 10px;">view_root_iml</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/06/linux-reinstall/">linux-reinstall</a>
          </li>
        
          <li>
            <a href="/2017/12/04/Python-install/">Python-install</a>
          </li>
        
          <li>
            <a href="/2017/12/03/JavaScript/">JavaScript</a>
          </li>
        
          <li>
            <a href="/2017/12/02/ECMAScript-Study/">ECMAScript-Study</a>
          </li>
        
          <li>
            <a href="/2017/11/30/Linux-cmd/">Linux-cmd</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>